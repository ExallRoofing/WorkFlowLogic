<!-- CONTACT FORM SECTION -->
<div id="contact" class="w-full mt-20 overflow-hidden">

    <div class="relative w-full max-w-full px-8 py-20 bg-gradient-to-br from-white/50 via-white/40 to-blue-50/30
            backdrop-blur-xl rounded-3xl border-2 border-gray-200/50
            transition-all duration-500 overflow-hidden">

        <!-- Enhanced spotlight effects -->
        <div class="absolute -top-16 -left-16 w-96 h-96 bg-gradient-to-br from-blue-100/40 to-purple-100/30
                    blur-3xl rounded-full opacity-40 pointer-events-none"></div>
        <div class="absolute -bottom-16 -right-16 w-80 h-80 bg-gradient-to-tl from-blue-50/30 to-indigo-50/20
                    blur-3xl rounded-full opacity-30 pointer-events-none"></div>

        <div class="relative z-10">

            <!-- Heading -->
            <h2 class="text-4xl md:text-5xl text-gradient-brand text-center mb-6 leading-tight">
                Let's Build Your Custom Automation
            </h2>
            <p class="text-gray-600 text-center text-lg mb-16 max-w-2xl mx-auto leading-relaxed">
                Tell us what you need automated â€” we'll design a workflow that saves you hours every week.
            </p>

            {{ form:contact ajax="true" id="contactForm" redirect="false" class="space-y-6" }}

            <!-- SUCCESS + ERROR MESSAGES -->
            <div id="formMessage" class="text-green-600 font-medium mb-4"></div>
            <div id="formErrors" class="space-y-2 text-red-500 mb-4"></div>

            <!-- FIELDS GRID -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

                {{ fields }}

                {{ if type === 'text' }}

                <div class="col-span-1">
                    <input
                        id="{{ handle }}"
                        type="text"
                        name="{{ handle }}"
                        placeholder="{{ placeholder }}"
                        class="w-full px-6 py-4 rounded-2xl bg-white/70 border-2 border-gray-200/50
                               text-gray-900 placeholder-gray-400 backdrop-blur-lg
                               shadow-sm hover:shadow-md hover:border-gray-300/60
                               focus:outline-none focus:ring-4 focus:ring-blue-500/20
                               focus:border-blue-500/60 focus:bg-white/90
                               transition-all duration-300">
                </div>

                {{ elseif type === 'textarea' }}

                <div class="col-span-1 md:col-span-2">
                    <textarea
                        id="{{ handle }}"
                        name="{{ handle }}"
                        rows="5"
                        placeholder="{{ placeholder }}"
                        class="w-full px-6 py-4 rounded-2xl bg-white/70 border-2 border-gray-200/50
                               text-gray-900 placeholder-gray-400 backdrop-blur-lg
                               shadow-sm hover:shadow-md hover:border-gray-300/60
                               focus:outline-none focus:ring-4 focus:ring-blue-500/20
                               focus:border-blue-500/60 focus:bg-white/90
                               transition-all duration-300 resize-none"></textarea>
                </div>

                {{ /if }}

                {{ /fields }}

                <!-- CAPTCHA - Integrated into grid -->
                <div class="col-span-1 md:col-span-2 flex flex-col md:flex-row md:items-end md:justify-between gap-6">

                    <!-- Captcha container with styling -->
                    <div class="captcha flex-shrink-0">
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            Verification
                        </label>
                        <div class="inline-block p-1 bg-white/80 rounded-lg border border-gray-200">
                            {{ captcha }}
                        </div>
                    </div>

                    <!-- Submit button aligned with captcha -->
                    <div class="flex-shrink-0 md:ml-auto">
                        <button
                            id="submitBtn"
                            type="submit"
                            class="relative bg-blue-600 hover:bg-blue-700 text-white text-lg font-semibold
                                   py-4 px-10 rounded-xl shadow-xl transition-all
                                   flex items-center justify-center overflow-hidden
                                   w-full md:w-auto min-w-[200px]">
                            <!-- Button text -->
                            <span class="btn-text">Send Message</span>

                            <!-- Loader (overlay) -->
                            <!-- Loader (overlay) -->
                            <span class="loader absolute inset-0 bg-gradient-to-r from-blue-600 to-blue-700 hidden">
                                <span class="flex items-center justify-center h-full gap-1">
                                    <span class="dot w-2 h-2 bg-white rounded-full"></span>
                                    <span class="dot w-2 h-2 bg-white rounded-full"></span>
                                    <span class="dot w-2 h-2 bg-white rounded-full"></span>
                                </span>
                            </span>
                        </button>
                    </div>

                </div>

            </div>

            {{ /form:contact }}

        </div>
    </div>

</div>
